"use strict";exports.id=368,exports.ids=[368],exports.modules={21784:(a,b,c)=>{c.d(b,{ProductErrorBoundary:()=>j});var d=c(30666),e=c(76289),f=c(5250),g=c(85236),h=c(9699);let i=()=>(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 text-center space-y-4",children:[(0,d.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto",children:(0,d.jsx)(f.A,{className:"w-6 h-6 text-red-600"})}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Product Loading Error"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Unable to load product information. Please try refreshing the page."})]}),(0,d.jsxs)(h.$,{size:"sm",variant:"outline",onClick:()=>window.location.reload(),children:[(0,d.jsx)(g.A,{className:"w-4 h-4 mr-2"}),"Retry"]})]}),j=({children:a})=>(0,d.jsx)(e.ErrorBoundary,{fallback:(0,d.jsx)(i,{}),children:a})},31499:(a,b,c)=>{c.d(b,{CartContainer:()=>n});var d=c(30666),e=c(787),f=c(37321),g=c(9699),h=c(29001),i=c(39961),j=c(36410),k=c(71352),l=c(15139),m=c(1281);let n=()=>{let{data:a,isLoading:b,error:c}=(0,f._$)(),{mutate:n,isPending:o}=(0,f.IM)(),[p,q]=(0,e.useState)({});return b?(0,d.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,d.jsx)(i.y,{size:"lg"})}):c?(0,d.jsx)("div",{className:"text-center py-12",children:(0,d.jsx)("p",{className:"text-red-600",children:"Error loading cart. Please try again."})}):a&&0!==a.items.length?(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("h1",{className:"text-3xl font-bold",children:"Your Cart"}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsxs)("p",{className:"text-sm text-gray-600",children:[a?.totalItems," items"]}),(0,d.jsxs)("p",{className:"text-2xl font-bold",children:["$",a?.totalPrice?.toFixed(2)??"0.00"]})]})]}),(0,d.jsx)("div",{className:"space-y-4",children:a?.items.map(b=>{let c=p[b.productId]||0,e=c>0&&c<=b.quantity,f=c%b.packageSize==0;return(0,d.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,d.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,d.jsx)(m.default,{src:b.image,alt:b.productName,width:80,height:80,className:"w-20 h-20 object-cover rounded-md"}),(0,d.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,d.jsx)("h3",{className:"font-semibold text-lg",children:b.productName}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsxs)("p",{className:"text-sm text-gray-600",children:["Price: $",b.price.toFixed(2)," each"]}),(0,d.jsxs)("p",{className:"text-sm text-gray-600",children:["Quantity: ",b.quantity," units"]}),(0,d.jsxs)("p",{className:"text-sm text-gray-600",children:["Package: ",b.packageSize," units"]})]}),(0,d.jsx)("div",{className:"text-right",children:(0,d.jsxs)("p",{className:"font-bold text-lg",children:["$",(b.price*b.quantity).toFixed(2)]})})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-4 pt-4 border-t",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("span",{className:"text-sm font-medium",children:"Remove:"}),(0,d.jsx)(g.$,{variant:"outline",size:"sm",onClick:()=>((a,b)=>{let c=Math.max(0,(p[a]||0)-b);q(b=>({...b,[a]:c}))})(b.productId,b.packageSize),disabled:c<=0,children:(0,d.jsx)(j.A,{className:"w-3 h-3"})}),(0,d.jsx)(h.p,{type:"number",value:c,onChange:a=>((a,b)=>{let c=Math.max(0,parseInt(b)||0);q(b=>({...b,[a]:c}))})(b.productId,a.target.value),className:"w-20 text-center",min:"0",max:b.quantity,step:b.packageSize}),(0,d.jsx)(g.$,{variant:"outline",size:"sm",onClick:()=>((b,c)=>{let d=p[b]||0,e=a?.items.find(a=>a.productId===b),f=e?e.quantity:0,g=d+c;g<=f&&q(a=>({...a,[b]:g}))})(b.productId,b.packageSize),disabled:c+b.packageSize>b.quantity,children:(0,d.jsx)(k.A,{className:"w-3 h-3"})})]}),(0,d.jsxs)(g.$,{variant:"destructive",size:"sm",onClick:()=>(a=>{let b=p[a]||0;b>0&&(n({productId:a,quantity:b}),q(b=>({...b,[a]:0})))})(b.productId),disabled:!e||!f||o,children:[(0,d.jsx)(l.A,{className:"w-4 h-4 mr-1"}),o?"Removing...":"Remove"]})]}),!f&&c>0&&(0,d.jsxs)("p",{className:"text-sm text-red-600",children:["Remove quantity must be a multiple of ",b.packageSize]})]})]})},b.productId)})}),(0,d.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,d.jsxs)("div",{className:"flex justify-between items-center text-xl font-bold",children:[(0,d.jsxs)("span",{children:["Total: $",a?.totalPrice.toFixed(2)]}),(0,d.jsx)(g.$,{size:"lg",children:"Proceed to Checkout"})]})})]}):(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Your Cart"}),(0,d.jsx)("p",{className:"text-gray-600 mb-4",children:"Your cart is empty"}),(0,d.jsx)(g.$,{onClick:()=>window.location.href="/products",children:"Browse Products"})]})}},62565:(a,b,c)=>{c.d(b,{ProductsContainer:()=>m});var d=c(30666),e=c(787),f=c(6652),g=c(85699),h=c(72423),i=c(11486),j=c(95943),k=c(21784),l=c(39961);let m=()=>{let a=(0,f.useSearchParams)(),[b,c]=(0,e.useState)({colors:[],sortOrder:"name-asc",searchQuery:""});(0,e.useEffect)(()=>{let b=a.get("search")||"";c(a=>({...a,searchQuery:b}))},[a]);let{data:m=[],isLoading:n,error:o}=(0,g.Rd)(b);return n?(0,d.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,d.jsx)(l.y,{size:"lg"})}):o?(0,d.jsx)("div",{className:"text-center py-12",children:(0,d.jsx)("p",{className:"text-red-600",children:"Error loading products. Please try again."})}):(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("h1",{className:"text-3xl font-bold",children:"Products"}),(0,d.jsxs)("p",{className:"text-gray-600",children:[m.length," products found"]})]}),(0,d.jsx)("div",{className:"max-w-md",children:(0,d.jsx)(j.SearchBar,{onSearch:a=>{c(b=>({...b,searchQuery:a}))},placeholder:"Search products..."})}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,d.jsx)("div",{className:"lg:col-span-1",children:(0,d.jsx)(i.ProductFiltersComponent,{filters:b,onFiltersChange:c})}),(0,d.jsx)("div",{className:"lg:col-span-3",children:0===m.length?(0,d.jsx)("div",{className:"text-center py-12",children:(0,d.jsx)("p",{className:"text-gray-600",children:"No products found matching your criteria."})}):(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(a=>(0,d.jsx)(k.ProductErrorBoundary,{children:(0,d.jsx)(h.ProductCard,{product:a})},a.id))})})]})]})}},73270:(a,b,c)=>{c.d(b,{ProfileContainer:()=>r});var d=c(30666),e=c(787),f=c(34568),g=c(50634),h=c(99629);class i{static calculateStrength(a){let b=[{name:"At least 8 characters",met:a.length>=8,points:10},{name:"At least one lowercase letter",met:/[a-z]/.test(a),points:5},{name:"At least one uppercase letter",met:/[A-Z]/.test(a),points:5},{name:"At least one digit",met:/\d/.test(a),points:5},{name:"At least one symbol",met:/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(a),points:10},{name:"At least 5 unique characters",met:new Set(a).size>=5,points:5}],c=b.filter(a=>a.met),d=c.reduce((a,b)=>a+b.points,0)+10*c.length,e=Math.min(100,d);return{score:d,percentage:e,rules:b}}static isStrongPassword(a){return this.calculateStrength(a).percentage>=80}static getStrengthLevel(a){return a<50?"weak":a<80?"medium":"strong"}}var j=c(19386),k=c(30622),l=c(9699),m=c(29001),n=c(48549);let o=({strength:a})=>(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsx)("span",{children:"Password Strength"}),(0,d.jsx)("span",{className:"font-medium",children:(a=>a<50?"Weak":a<80?"Medium":"Strong")(a.percentage)})]}),(0,d.jsx)("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,d.jsx)("div",{className:`h-full transition-all duration-300 ${(a=>a<50?"bg-red-500":a<80?"bg-yellow-500":"bg-green-500")(a.percentage)}`,style:{width:`${a.percentage}%`}})})]}),(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)("div",{className:"text-sm font-medium text-gray-700",children:"Requirements:"}),a.rules.map((a,b)=>(0,d.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,d.jsx)("div",{className:`w-4 h-4 rounded-full flex items-center justify-center ${a.met?"bg-green-500 text-white":"bg-gray-300"}`,children:a.met&&(0,d.jsx)("span",{className:"text-xs",children:"âœ“"})}),(0,d.jsx)("span",{className:a.met?"text-green-700":"text-gray-600",children:a.name})]},b))]})]});var p=c(30514);let q=h.Ik({currentPassword:h.Yj().min(1,"Current password is required"),newPassword:h.Yj().min(8,"Password must be at least 8 characters"),confirmPassword:h.Yj().min(1,"Please confirm your password")}).refine(a=>a.newPassword===a.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),r=()=>{let[a,b]=(0,e.useState)(!1),{mutate:c,isPending:h,error:r}=(0,j.n)({mutationFn:a=>k.Ay.getInstance().user.updatePassword(a)}),{register:s,handleSubmit:t,watch:u,reset:v,formState:{errors:w,isValid:x}}=(0,f.mN)({resolver:(0,g.u)(q),mode:"onChange"}),y=u("newPassword",""),z=i.calculateStrength(y),A=i.isStrongPassword(y);return(0,d.jsxs)("div",{className:"max-w-2xl mx-auto space-y-8",children:[(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("h1",{className:"text-3xl font-bold",children:"Profile"}),(0,d.jsx)("p",{className:"text-gray-600 mt-2",children:"Update your account settings"})]}),a&&(0,d.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center space-x-2",children:[(0,d.jsx)(p.A,{className:"w-5 h-5 text-green-600"}),(0,d.jsx)("p",{className:"text-green-800",children:"Password updated successfully!"})]}),r&&(0,d.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,d.jsx)("p",{className:"text-red-800",children:"Error updating password. Please try again."})}),(0,d.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md",children:[(0,d.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Update Password"}),(0,d.jsxs)("form",{onSubmit:t(a=>{A&&c({currentPassword:a.currentPassword,newPassword:a.newPassword,confirmPassword:a.confirmPassword},{onSuccess:()=>{b(!0),v(),setTimeout(()=>b(!1),5e3)}})}),className:"space-y-6",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(n.J,{htmlFor:"currentPassword",children:"Current Password"}),(0,d.jsx)(m.p,{id:"currentPassword",type:"password",...s("currentPassword"),error:w.currentPassword?.message})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(n.J,{htmlFor:"newPassword",children:"New Password"}),(0,d.jsx)(m.p,{id:"newPassword",type:"password",...s("newPassword"),error:w.newPassword?.message})]}),y&&(0,d.jsx)("div",{className:"space-y-2",children:(0,d.jsx)(o,{strength:z})}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(n.J,{htmlFor:"confirmPassword",children:"Confirm New Password"}),(0,d.jsx)(m.p,{id:"confirmPassword",type:"password",...s("confirmPassword"),error:w.confirmPassword?.message})]}),(0,d.jsx)(l.$,{type:"submit",disabled:!x||!A||h,className:"w-full",size:"lg",children:h?"Updating...":"Update Password"}),y&&!A&&(0,d.jsx)("p",{className:"text-sm text-red-600 text-center",children:"Password must be strong to update (minimum 80% strength)"})]})]})]})}},85699:(a,b,c)=>{c.d(b,{Rd:()=>f,e6:()=>g});var d=c(25057),e=c(30622);let f=a=>{let b=["products","filtered",a.searchQuery||"",a.colors?.join(",")||"",a.sortOrder||"name-asc"];return(0,d.I)({queryKey:b,queryFn:()=>e.Ay.getInstance().products.getFilteredProducts(a),staleTime:18e5,gcTime:18e5,retry:1,placeholderData:[]})},g=(a,b=!0)=>(0,d.I)({queryKey:["suggestions",a],queryFn:()=>e.Ay.getInstance().products.searchProducts(a),enabled:b&&a.length>2,staleTime:18e5,gcTime:18e5,retry:1,placeholderData:[]})},95943:(a,b,c)=>{c.d(b,{SearchBar:()=>l});var d=c(30666),e=c(787),f=c(88578),g=c(33788),h=c(29001),i=c(9699),j=c(61447),k=c(85699);let l=({onSearch:a,placeholder:b="Search products..."})=>{let[c,l]=(0,e.useState)(""),[m,n]=(0,e.useState)(!1),[o,p]=(0,e.useState)(-1),[q]=(0,j.d7)(c,300),{data:r=[],isLoading:s}=(0,k.e6)(q,m&&q.length>2),t="search-listbox",u=b=>{b.preventDefault(),c.trim()&&(a(c.trim()),n(!1),p(-1))},v=b=>{l(b),a(b),n(!1),p(-1)};return(0,e.useEffect)(()=>{let a=a=>{a.target.closest("[data-search-container]")||n(!1)};return document.addEventListener("click",a),()=>document.removeEventListener("click",a)},[]),(0,d.jsxs)("div",{className:"relative w-full max-w-md","data-search-container":!0,children:[(0,d.jsxs)("form",{onSubmit:u,className:"flex",children:[(0,d.jsxs)("div",{className:"relative flex-1",children:[(0,d.jsx)(h.p,{id:"search-combobox",value:c,onChange:a=>{l(a.target.value),n(!0),p(-1)},onKeyDown:a=>{if(m&&0!==r.length)switch(a.key){case"ArrowDown":a.preventDefault(),p(a=>a<r.length-1?a+1:0);break;case"ArrowUp":a.preventDefault(),p(a=>a>0?a-1:r.length-1);break;case"Enter":a.preventDefault(),o>=0?v(r[o]):c.trim()&&u(a);break;case"Escape":n(!1),p(-1)}},placeholder:b,className:"pr-8",onFocus:()=>c.length>2&&n(!0),role:"combobox","aria-expanded":m&&r.length>0,"aria-haspopup":"listbox","aria-owns":t,"aria-activedescendant":o>=0?`suggestion-${o}`:void 0,"aria-autocomplete":"list","aria-label":"Search for products"}),c&&(0,d.jsx)(i.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>{l(""),a(""),n(!1),p(-1)},className:"absolute right-1 top-1/2 -translate-y-1/2 h-8 w-8 p-0","aria-label":"Clear search",children:(0,d.jsx)(f.A,{className:"w-4 h-4","aria-hidden":"true"})})]}),(0,d.jsxs)(i.$,{type:"submit",className:"ml-2","aria-label":"Search",children:[(0,d.jsx)(g.A,{className:"w-4 h-4","aria-hidden":"true"}),(0,d.jsx)("span",{className:"sr-only",children:"Search"})]})]}),m&&c.length>2&&(0,d.jsx)("div",{id:t,role:"listbox","aria-label":"Search suggestions",className:"absolute top-full left-0 right-0 z-10 mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto",children:s?(0,d.jsx)("div",{className:"p-3 text-center text-gray-500",role:"status","aria-live":"polite",children:"Loading suggestions..."}):r.length>0?r.map((a,b)=>(0,d.jsx)("button",{id:`suggestion-${b}`,onClick:()=>v(a),className:`w-full text-left px-4 py-2 hover:bg-gray-100 focus:bg-gray-100 focus:outline-none ${b===o?"bg-gray-100":""}`,role:"option","aria-selected":b===o,children:a},b)):(0,d.jsx)("div",{className:"p-3 text-center text-gray-500",role:"status",children:"No suggestions found"})})]})}}};