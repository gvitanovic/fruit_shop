"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const t=require("@tanstack/react-query"),r=require("@fruit-shop/infrastructure"),a=()=>t.useQuery({queryKey:["cart"],queryFn:()=>r.getInstance().cart.getCart(),retry:1,staleTime:30*1e3,placeholderData:{items:[],totalPrice:0,totalItems:0}}),n=()=>{const e=t.useQueryClient();return t.useMutation({mutationFn:u=>r.getInstance().cart.addToCart(u),onSuccess:()=>{e.invalidateQueries({queryKey:["cart"]})}})},o=()=>{const e=t.useQueryClient();return t.useMutation({mutationFn:({productId:u,quantity:s})=>r.getInstance().cart.removeFromCart(u,s),onSuccess:()=>{e.invalidateQueries({queryKey:["cart"]})}})},c=()=>t.useQuery({queryKey:["products"],queryFn:()=>r.getInstance().products.getAllProducts(),staleTime:30*60*1e3,gcTime:30*60*1e3,retry:1,placeholderData:[]}),d=e=>{var s;const u=["products","filtered",e.searchQuery||"",((s=e.colors)==null?void 0:s.join(","))||"",e.sortOrder||"name-asc"];return t.useQuery({queryKey:u,queryFn:()=>r.getInstance().products.getFilteredProducts(e),staleTime:30*60*1e3,gcTime:30*60*1e3,retry:1,placeholderData:[]})},i=e=>t.useQuery({queryKey:["product",e],queryFn:()=>r.getInstance().products.getProductById(e),enabled:!!e,staleTime:30*60*1e3,gcTime:30*60*1e3}),y=(e,u=!0)=>t.useQuery({queryKey:["suggestions",e],queryFn:()=>r.getInstance().products.searchProducts(e),enabled:u&&e.length>2,staleTime:30*60*1e3,gcTime:30*60*1e3,retry:1,placeholderData:[]}),l=()=>t.useMutation({mutationFn:e=>r.getInstance().user.updatePassword(e)});exports.useAddToCart=n;exports.useCart=a;exports.useFilteredProducts=d;exports.useProduct=i;exports.useProductSuggestions=y;exports.useProducts=c;exports.useRemoveFromCart=o;exports.useUpdatePassword=l;
