"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[973],{83:(e,s,t)=>{t.d(s,{y:()=>l});var a=t(9236),r=t(3861);let l=e=>{let{className:s,size:t="md",...l}=e;return(0,a.jsx)("div",{className:(0,r.$)("animate-spin rounded-full border-2 border-gray-300 border-t-blue-600",{sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"}[t],s),...l})}},487:(e,s,t)=>{t.d(s,{ProductsContainer:()=>h});var a=t(9236),r=t(1032),l=t(8910),c=t(1919),n=t(9578),i=t(3192),d=t(4363),o=t(6014),m=t(83);let h=()=>{let e=(0,l.useSearchParams)(),[s,t]=(0,r.useState)({colors:[],sortOrder:"name-asc",searchQuery:""});(0,r.useEffect)(()=>{let s=e.get("search")||"";t(e=>({...e,searchQuery:s}))},[e]);let{data:h=[],isLoading:x,error:u}=(0,c.Rd)(s);return x?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)(m.y,{size:"lg"})}):u?(0,a.jsx)("div",{className:"text-center py-12",children:(0,a.jsx)("p",{className:"text-red-600",children:"Error loading products. Please try again."})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Products"}),(0,a.jsxs)("p",{className:"text-gray-600",children:[h.length," products found"]})]}),(0,a.jsx)("div",{className:"max-w-md",children:(0,a.jsx)(d.SearchBar,{onSearch:e=>{t(s=>({...s,searchQuery:e}))},placeholder:"Search products..."})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsx)(i.ProductFiltersComponent,{filters:s,onFiltersChange:t})}),(0,a.jsx)("div",{className:"lg:col-span-3",children:0===h.length?(0,a.jsx)("div",{className:"text-center py-12",children:(0,a.jsx)("p",{className:"text-gray-600",children:"No products found matching your criteria."})}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(e=>(0,a.jsx)(o.ProductErrorBoundary,{children:(0,a.jsx)(n.ProductCard,{product:e})},e.id))})})]})]})}},523:(e,s,t)=>{t.d(s,{ErrorBoundary:()=>d});var a=t(9236),r=t(1032),l=t(4727),c=t(8540),n=t(4304),i=t(2413);class d extends r.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,s){console.error("ErrorBoundary caught an error:",e,s),this.setState({error:e,errorInfo:s})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:(0,a.jsx)("div",{className:"min-h-[400px] flex items-center justify-center p-6",children:(0,a.jsxs)("div",{className:"text-center space-y-6 max-w-md",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto",children:(0,a.jsx)(l.A,{className:"w-8 h-8 text-red-600"})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Something went wrong"}),(0,a.jsx)("p",{className:"text-gray-600",children:"We're sorry, but something unexpected happened. Please try refreshing the page or go back to the homepage."})]}),this.props.showDetails&&this.state.error&&(0,a.jsxs)("details",{className:"text-left bg-gray-100 p-4 rounded-lg",children:[(0,a.jsx)("summary",{className:"cursor-pointer text-sm font-medium text-gray-700 mb-2",children:"Error Details"}),(0,a.jsxs)("pre",{className:"text-xs text-red-600 whitespace-pre-wrap overflow-auto",children:[this.state.error.message,this.state.error.stack]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[(0,a.jsxs)(i.$,{onClick:this.handleRetry,variant:"outline",children:[(0,a.jsx)(c.A,{className:"w-4 h-4 mr-2"}),"Try Again"]}),(0,a.jsxs)(i.$,{onClick:this.handleGoHome,children:[(0,a.jsx)(n.A,{className:"w-4 h-4 mr-2"}),"Go Home"]})]})]})}):this.props.children}constructor(e){super(e),this.handleRetry=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})},this.handleGoHome=()=>{window.location.href="/"},this.state={hasError:!1}}}},1869:(e,s,t)=>{t.d(s,{CartContainer:()=>x});var a=t(9236),r=t(1032),l=t(9881),c=t(2413),n=t(8611),i=t(83),d=t(9444),o=t(1628),m=t(9785),h=t(9245);let x=()=>{var e,s;let{data:t,isLoading:x,error:u}=(0,l._$)(),{mutate:p,isPending:g}=(0,l.IM)(),[j,w]=(0,r.useState)({});return x?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)(i.y,{size:"lg"})}):u?(0,a.jsx)("div",{className:"text-center py-12",children:(0,a.jsx)("p",{className:"text-red-600",children:"Error loading cart. Please try again."})}):t&&0!==t.items.length?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Your Cart"}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[null==t?void 0:t.totalItems," items"]}),(0,a.jsxs)("p",{className:"text-2xl font-bold",children:["$",null!=(s=null==t||null==(e=t.totalPrice)?void 0:e.toFixed(2))?s:"0.00"]})]})]}),(0,a.jsx)("div",{className:"space-y-4",children:null==t?void 0:t.items.map(e=>{let s=j[e.productId]||0,r=s>0&&s<=e.quantity,l=s%e.packageSize==0;return(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,a.jsx)(h.default,{src:e.image,alt:e.productName,width:80,height:80,className:"w-20 h-20 object-cover rounded-md"}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg",children:e.productName}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Price: $",e.price.toFixed(2)," each"]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Quantity: ",e.quantity," units"]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Package: ",e.packageSize," units"]})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsxs)("p",{className:"font-bold text-lg",children:["$",(e.price*e.quantity).toFixed(2)]})})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 pt-4 border-t",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Remove:"}),(0,a.jsx)(c.$,{variant:"outline",size:"sm",onClick:()=>((e,s)=>{let t=Math.max(0,(j[e]||0)-s);w(s=>({...s,[e]:t}))})(e.productId,e.packageSize),disabled:s<=0,children:(0,a.jsx)(d.A,{className:"w-3 h-3"})}),(0,a.jsx)(n.p,{type:"number",value:s,onChange:s=>((e,s)=>{let t=Math.max(0,parseInt(s)||0);w(s=>({...s,[e]:t}))})(e.productId,s.target.value),className:"w-20 text-center",min:"0",max:e.quantity,step:e.packageSize}),(0,a.jsx)(c.$,{variant:"outline",size:"sm",onClick:()=>((e,s)=>{let a=j[e]||0,r=null==t?void 0:t.items.find(s=>s.productId===e),l=r?r.quantity:0,c=a+s;c<=l&&w(s=>({...s,[e]:c}))})(e.productId,e.packageSize),disabled:s+e.packageSize>e.quantity,children:(0,a.jsx)(o.A,{className:"w-3 h-3"})})]}),(0,a.jsxs)(c.$,{variant:"destructive",size:"sm",onClick:()=>(e=>{let s=j[e]||0;s>0&&(p({productId:e,quantity:s}),w(s=>({...s,[e]:0})))})(e.productId),disabled:!r||!l||g,children:[(0,a.jsx)(m.A,{className:"w-4 h-4 mr-1"}),g?"Removing...":"Remove"]})]}),!l&&s>0&&(0,a.jsxs)("p",{className:"text-sm text-red-600",children:["Remove quantity must be a multiple of ",e.packageSize]})]})]})},e.productId)})}),(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,a.jsxs)("div",{className:"flex justify-between items-center text-xl font-bold",children:[(0,a.jsxs)("span",{children:["Total: $",null==t?void 0:t.totalPrice.toFixed(2)]}),(0,a.jsx)(c.$,{size:"lg",children:"Proceed to Checkout"})]})})]}):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Your Cart"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Your cart is empty"}),(0,a.jsx)(c.$,{onClick:()=>window.location.href="/products",children:"Browse Products"})]})}},1919:(e,s,t)=>{t.d(s,{Rd:()=>l,e6:()=>c});var a=t(3018),r=t(4985);let l=e=>{var s;let t=["products","filtered",e.searchQuery||"",(null==(s=e.colors)?void 0:s.join(","))||"",e.sortOrder||"name-asc"];return(0,a.I)({queryKey:t,queryFn:()=>r.Ay.getInstance().products.getFilteredProducts(e),staleTime:18e5,gcTime:18e5,retry:1,placeholderData:[]})},c=function(e){let s=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return(0,a.I)({queryKey:["suggestions",e],queryFn:()=>r.Ay.getInstance().products.searchProducts(e),enabled:s&&e.length>2,staleTime:18e5,gcTime:18e5,retry:1,placeholderData:[]})}},2963:(e,s,t)=>{t.d(s,{ProfileContainer:()=>j});var a=t(9236),r=t(1032),l=t(4426),c=t(8184),n=t(5519);class i{static calculateStrength(e){let s=[{name:"At least 8 characters",met:e.length>=8,points:10},{name:"At least one lowercase letter",met:/[a-z]/.test(e),points:5},{name:"At least one uppercase letter",met:/[A-Z]/.test(e),points:5},{name:"At least one digit",met:/\d/.test(e),points:5},{name:"At least one symbol",met:/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(e),points:10},{name:"At least 5 unique characters",met:new Set(e).size>=5,points:5}],t=s.filter(e=>e.met),a=t.reduce((e,s)=>e+s.points,0)+10*t.length,r=Math.min(100,a);return{score:a,percentage:r,rules:s}}static isStrongPassword(e){return this.calculateStrength(e).percentage>=80}static getStrengthLevel(e){return e<50?"weak":e<80?"medium":"strong"}}var d=t(2397),o=t(4985),m=t(2413),h=t(8611),x=t(6703);let u=e=>{let{strength:s}=e;return(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Password Strength"}),(0,a.jsx)("span",{className:"font-medium",children:(e=>e<50?"Weak":e<80?"Medium":"Strong")(s.percentage)})]}),(0,a.jsx)("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full transition-all duration-300 ".concat((e=>e<50?"bg-red-500":e<80?"bg-yellow-500":"bg-green-500")(s.percentage)),style:{width:"".concat(s.percentage,"%")}})})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-700",children:"Requirements:"}),s.rules.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded-full flex items-center justify-center ".concat(e.met?"bg-green-500 text-white":"bg-gray-300"),children:e.met&&(0,a.jsx)("span",{className:"text-xs",children:"✓"})}),(0,a.jsx)("span",{className:e.met?"text-green-700":"text-gray-600",children:e.name})]},s))]})]})};var p=t(1898);let g=n.Ik({currentPassword:n.Yj().min(1,"Current password is required"),newPassword:n.Yj().min(8,"Password must be at least 8 characters"),confirmPassword:n.Yj().min(1,"Please confirm your password")}).refine(e=>e.newPassword===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),j=()=>{var e,s,t;let[n,j]=(0,r.useState)(!1),{mutate:w,isPending:N,error:y}=(0,d.n)({mutationFn:e=>o.Ay.getInstance().user.updatePassword(e)}),{register:v,handleSubmit:f,watch:b,reset:P,formState:{errors:S,isValid:k}}=(0,l.mN)({resolver:(0,c.u)(g),mode:"onChange"}),C=b("newPassword",""),A=i.calculateStrength(C),E=i.isStrongPassword(C);return(0,a.jsxs)("div",{className:"max-w-2xl mx-auto space-y-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Profile"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Update your account settings"})]}),n&&(0,a.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center space-x-2",children:[(0,a.jsx)(p.A,{className:"w-5 h-5 text-green-600"}),(0,a.jsx)("p",{className:"text-green-800",children:"Password updated successfully!"})]}),y&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,a.jsx)("p",{className:"text-red-800",children:"Error updating password. Please try again."})}),(0,a.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Update Password"}),(0,a.jsxs)("form",{onSubmit:f(e=>{E&&w({currentPassword:e.currentPassword,newPassword:e.newPassword,confirmPassword:e.confirmPassword},{onSuccess:()=>{j(!0),P(),setTimeout(()=>j(!1),5e3)}})}),className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x.J,{htmlFor:"currentPassword",children:"Current Password"}),(0,a.jsx)(h.p,{id:"currentPassword",type:"password",...v("currentPassword"),error:null==(e=S.currentPassword)?void 0:e.message})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x.J,{htmlFor:"newPassword",children:"New Password"}),(0,a.jsx)(h.p,{id:"newPassword",type:"password",...v("newPassword"),error:null==(s=S.newPassword)?void 0:s.message})]}),C&&(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsx)(u,{strength:A})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x.J,{htmlFor:"confirmPassword",children:"Confirm New Password"}),(0,a.jsx)(h.p,{id:"confirmPassword",type:"password",...v("confirmPassword"),error:null==(t=S.confirmPassword)?void 0:t.message})]}),(0,a.jsx)(m.$,{type:"submit",disabled:!k||!E||N,className:"w-full",size:"lg",children:N?"Updating...":"Update Password"}),C&&!E&&(0,a.jsx)("p",{className:"text-sm text-red-600 text-center",children:"Password must be strong to update (minimum 80% strength)"})]})]})]})}},4363:(e,s,t)=>{t.d(s,{SearchBar:()=>m});var a=t(9236),r=t(1032),l=t(9788),c=t(7104),n=t(8611),i=t(2413),d=t(4717),o=t(1919);let m=e=>{let{onSearch:s,placeholder:t="Search products..."}=e,[m,h]=(0,r.useState)(""),[x,u]=(0,r.useState)(!1),[p,g]=(0,r.useState)(-1),[j]=(0,d.d7)(m,300),{data:w=[],isLoading:N}=(0,o.e6)(j,x&&j.length>2),y="search-listbox",v=e=>{e.preventDefault(),m.trim()&&(s(m.trim()),u(!1),g(-1))},f=e=>{h(e),s(e),u(!1),g(-1)};return(0,r.useEffect)(()=>{let e=e=>{e.target.closest("[data-search-container]")||u(!1)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]),(0,a.jsxs)("div",{className:"relative w-full max-w-md","data-search-container":!0,children:[(0,a.jsxs)("form",{onSubmit:v,className:"flex",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(n.p,{id:"search-combobox",value:m,onChange:e=>{h(e.target.value),u(!0),g(-1)},onKeyDown:e=>{if(x&&0!==w.length)switch(e.key){case"ArrowDown":e.preventDefault(),g(e=>e<w.length-1?e+1:0);break;case"ArrowUp":e.preventDefault(),g(e=>e>0?e-1:w.length-1);break;case"Enter":e.preventDefault(),p>=0?f(w[p]):m.trim()&&v(e);break;case"Escape":u(!1),g(-1)}},placeholder:t,className:"pr-8",onFocus:()=>m.length>2&&u(!0),role:"combobox","aria-expanded":x&&w.length>0,"aria-haspopup":"listbox","aria-owns":y,"aria-activedescendant":p>=0?"suggestion-".concat(p):void 0,"aria-autocomplete":"list","aria-label":"Search for products"}),m&&(0,a.jsx)(i.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>{h(""),s(""),u(!1),g(-1)},className:"absolute right-1 top-1/2 -translate-y-1/2 h-8 w-8 p-0","aria-label":"Clear search",children:(0,a.jsx)(l.A,{className:"w-4 h-4","aria-hidden":"true"})})]}),(0,a.jsxs)(i.$,{type:"submit",className:"ml-2","aria-label":"Search",children:[(0,a.jsx)(c.A,{className:"w-4 h-4","aria-hidden":"true"}),(0,a.jsx)("span",{className:"sr-only",children:"Search"})]})]}),x&&m.length>2&&(0,a.jsx)("div",{id:y,role:"listbox","aria-label":"Search suggestions",className:"absolute top-full left-0 right-0 z-10 mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto",children:N?(0,a.jsx)("div",{className:"p-3 text-center text-gray-500",role:"status","aria-live":"polite",children:"Loading suggestions..."}):w.length>0?w.map((e,s)=>(0,a.jsx)("button",{id:"suggestion-".concat(s),onClick:()=>f(e),className:"w-full text-left px-4 py-2 hover:bg-gray-100 focus:bg-gray-100 focus:outline-none ".concat(s===p?"bg-gray-100":""),role:"option","aria-selected":s===p,children:e},s)):(0,a.jsx)("div",{className:"p-3 text-center text-gray-500",role:"status",children:"No suggestions found"})})]})}},6014:(e,s,t)=>{t.d(s,{ProductErrorBoundary:()=>d});var a=t(9236),r=t(523),l=t(1536),c=t(8540),n=t(2413);let i=()=>(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 text-center space-y-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto",children:(0,a.jsx)(l.A,{className:"w-6 h-6 text-red-600"})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Product Loading Error"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Unable to load product information. Please try refreshing the page."})]}),(0,a.jsxs)(n.$,{size:"sm",variant:"outline",onClick:()=>window.location.reload(),children:[(0,a.jsx)(c.A,{className:"w-4 h-4 mr-2"}),"Retry"]})]}),d=e=>{let{children:s}=e;return(0,a.jsx)(r.ErrorBoundary,{fallback:(0,a.jsx)(i,{}),children:s})}}}]);